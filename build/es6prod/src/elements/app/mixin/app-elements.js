define(["../../../../node_modules/@polymer/polymer/polymer-element.js","../../../../node_modules/pwa-helpers/connect-mixin.js","../../../store.js","../../internalComponents/dialogs/esign-dialog.js","../../internalComponents/dialogs/confirmuser-dialog.js","../Redux/actions/esign-actions.js","../Redux/actions/confirmuser-actions.js","./authentication-api.js","./api-app.js","../../../config/app-config.js"],function(_polymerElement,_connectMixin,_store,_esignDialog,_confirmuserDialog,_esignActions,_confirmuserActions,_authenticationApi,_apiApp,_appConfig){"use strict";class AppElements extends(0,_apiApp.Appapi)((0,_authenticationApi.AuthenticationApi)((0,_connectMixin.connect)(_store.store)(_polymerElement.PolymerElement))){stateChanged(state){this.finalToken=state.app.user.finalToken;this.currTabEsignRequired=state.tabs.currTabEsignRequired;this.currTabConfirmUserRequired=state.tabs.currTabConfirmUserRequired;this.selectedLanguage=state.app.user.appLanguage}static get properties(){return{finalToken:String,currTabConfirmUserRequired:Boolean,currTabEsignRequired:Boolean,validationNotCorrectMessage:{type:Object,value:_appConfig.appConfirmUserOrEsign_notCorrectMessage},selectedLanguage:{type:String}}}static get template(){return _polymerElement.html`
            <esign-dialog></esign-dialog>
            <confirmuser-dialog></confirmuser-dialog>                        
        `}appActionTrigger(buttonName,backEndData,buttonDefinition){this.buttonName=buttonName;this.backEndData=backEndData;//console.log('app-elements >> actionTrigger >> backEndData', backEndData, 'this.backEndData', this.backEndData, 'buttonDefinition', buttonDefinition);  
//if (this.currTabEsignRequired){
if(buttonDefinition&&buttonDefinition.esign_required){_store.store.dispatch((0,_esignActions.openEsignDialog)(this.appActionTriggerNext.bind(this),this.appActionTriggerAbort.bind(this)));return}//if (this.currTabConfirmUserRequired){
if(buttonDefinition&&buttonDefinition.confirmuser_required){_store.store.dispatch((0,_confirmuserActions.openConfirmUserDialog)(this.appActionTriggerNext.bind(this),this.appActionTriggerAbort.bind(this)));return}this.appActionTriggerNext()}appActionTriggerAbort(){var message="";switch(this.selectedLanguage){case"es":message=this.validationNotCorrectMessage.message_es;break;//message=response.data.message_es; break;            
default:message=this.validationNotCorrectMessage.message_en;break;//message=response.data.message_en; break;
}this.dispatchEvent(new CustomEvent("toast-error",{bubbles:!0,composed:!0,detail:message}));this.loading=!1}appActionTriggerNext(){var buttonName=this.buttonName,backEndData=this.backEndData,datas=[];datas.finalToken=this.finalToken;var actionName=buttonName.toUpperCase();console.log("app-elements >> appActionTriggerNext >> backEndData",backEndData,"this.backEndData",this.backEndData,"buttonName",buttonName);switch(buttonName.toUpperCase()){case"USER_CHANGE_PSWD":datas.newPassword=backEndData.newPassword;this.appActionTriggerAPI(null,this.finalToken,actionName,datas,datas.tabInfo,this.callBackFunctionEnvMonitElem);break;case"USER_CHANGE_ESIGN":datas.newEsign=backEndData.newEsign;this.appActionTriggerAPI(null,this.finalToken,actionName,datas,datas.tabInfo,this.callBackFunctionEnvMonitElem);break;case"SET_DEFAULT_TABS_ON_LOGIN":datas.tabsString=backEndData.tabsString;this.appActionTriggerAPI(null,this.finalToken,actionName,datas,datas.tabInfo,this.callBackFunctionEnvMonitElem);break;default:console.log("Action "+buttonName+" is not declared in env-monit-elements.sample.js >> appActionTriggerNext");break;}return}}customElements.define("app-elements",AppElements)});